<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Devis Construction Pro</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- CSS -->
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <!-- SIDEBAR -->
        <aside class="sidebar">
            <h1>🏗️ Devis Pro BTP</h1>
            <ul>
                <li class="step active" data-step="1">1. 📏 Dimensions</li>
                <li class="step" data-step="2">2. 🏗️ Fondations</li>
                <li class="step" data-step="3">3. 📐 Forme</li>
                <li class="step" data-step="4">4. 🏡 Terrasses</li>
                <li class="step" data-step="5">5. 🔧 Vide Sanitaire</li>
                <li class="step" data-step="6">6. 🧱 Murs</li>
                <li class="step" data-step="7">7. 🚪 Ouvertures</li>
                <li class="step" data-step="8">8. 🏠 Charpente</li>
                <li class="step" data-step="9">9. 🏚️ Toiture</li>
                <li class="step" data-step="10">10. ⚙️ Paramètres</li>
                <li class="step" data-step="11">11. 💰 Devis Final</li>
            </ul>
        </aside>

        <!-- FORMULAIRE -->
        <div class="form-container">
            <form id="constructionForm">
                
                <!-- SECTION 1 : DIMENSIONS -->
                <div class="form-section active" data-section="1">
                    <h2>📏 Dimensions principales</h2>
                    <div class="info-box">
                        <p>Indiquez les dimensions hors-tout (extérieures) de la maison</p>
                    </div>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="houseLength">Longueur (m)</label>
                            <input type="number" id="houseLength" step="0.01" value="15">
                        </div>
                        <div class="form-group">
                            <label for="houseWidth">Largeur (m)</label>
                            <input type="number" id="houseWidth" step="0.01" value="10">
                        </div>
                    </div>
                </div>

                <!-- SECTION 2 : FONDATIONS -->
                <div class="form-section" data-section="2">
                    <h2>🏗️ Fondations</h2>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="foundationHeight">Hauteur fondations (m)</label>
                            <input type="number" id="foundationHeight" step="0.01" value="0.60">
                        </div>
                        <div class="form-group">
                            <label for="foundationWidth">Largeur fondations (m)</label>
                            <input type="number" id="foundationWidth" step="0.01" value="0.50">
                        </div>
                    </div>
                </div>

                <!-- SECTION 3 : FORME -->
                <div class="form-section" data-section="3">
                    <h2>📐 Forme de la maison</h2>
                    <div class="warning-box">
                        <p><strong>⚠️ Angles rentrants</strong> = creux (forme L, U, T)</p>
                        <p><strong>⚡ Angles sortants</strong> = extensions qui dépassent</p>
                    </div>
                    <div class="form-group">
                        <label>Type de forme</label>
                        <div class="radio-group">
                            <input type="radio" id="shapeSimple" name="houseShape" value="simple" checked>
                            <label for="shapeSimple">Rectangle simple</label>
                            <input type="radio" id="shapeComplex" name="houseShape" value="complex">
                            <label for="shapeComplex">Forme complexe</label>
                        </div>
                    </div>
                    <div id="complexShapeContainer" style="display: none;">
                        <button type="button" class="btn-add" id="addComplexShape">+ Définir</button>
                        <div id="shapesList"></div>
                    </div>
                </div>

                <!-- SECTION 4 : TERRASSES -->
                <div class="form-section" data-section="4">
                    <h2>🏡 Terrasses</h2>
                    <div class="form-group">
                        <label>Y a-t-il des terrasses ?</label>
                        <div class="radio-group">
                            <input type="radio" name="terrace" value="yes">
                            <label>Oui</label>
                            <input type="radio" name="terrace" value="no" checked>
                            <label>Non</label>
                        </div>
                    </div>
                    <div id="terraceContainer" style="display: none;">
                        <button type="button" class="btn-add" id="addTerrace">+ Terrasse</button>
                        <div id="terracesList"></div>
                    </div>
                </div>

                <!-- SECTION 5 : VIDE SANITAIRE -->
                <div class="form-section" data-section="5">
                    <h2>🔧 Vide Sanitaire</h2>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="crawlSpaceHeight">Hauteur (m)</label>
                            <input type="number" id="crawlSpaceHeight" step="0.01" value="0.60">
                        </div>
                        <div class="form-group">
                            <label for="blockType">Type parpaing</label>
                            <select id="blockType">
                                <option value="20">20x20x50 cm</option>
                                <option value="15">15x20x50 cm</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- SECTION 6 : MURS -->
                <div class="form-section" data-section="6">
                    <h2>🧱 Élévation Murs</h2>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="wallHeight">Hauteur (m)</label>
                            <input type="number" id="wallHeight" step="0.01" value="2.50">
                        </div>
                        <div class="form-group">
                            <label for="wallBlockType">Type parpaing</label>
                            <select id="wallBlockType">
                                <option value="20">20x20x50 cm</option>
                                <option value="15">15x20x50 cm</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- SECTION 7 : OUVERTURES -->
                <div class="form-section" data-section="7">
                    <h2>🚪 Ouvertures</h2>
                    <button type="button" class="btn-add" id="addOpening">+ Ouverture</button>
                    <div id="openingsList"></div>
                </div>

                <!-- SECTION 8 : CHARPENTE -->
                <div class="form-section" data-section="8">
                    <h2>🏠 Charpente</h2>
                    <div class="form-group">
                        <label>Type de charpente</label>
                        <div class="radio-group">
                            <input type="radio" name="roofType" value="2-slopes" checked>
                            <label>2 pentes</label>
                            <input type="radio" name="roofType" value="4-slopes">
                            <label>4 pentes</label>
                        </div>
                    </div>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="roofSlopePercentage">Pente (%)</label>
                            <input type="number" id="roofSlopePercentage" value="35">
                        </div>
                        <div class="form-group">
                            <label for="roofFrameType">Type</label>
                            <select id="roofFrameType">
                                <option value="traditional">Traditionnelle</option>
                                <option value="industrial">Industrielle</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- SECTION 9 : TOITURE -->
                <div class="form-section" data-section="9">
                    <h2>🏚️ Toiture</h2>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="roofOverhang">Débord (m)</label>
                            <input type="number" id="roofOverhang" step="0.01" value="0.50">
                        </div>
                        <div class="form-group">
                            <label for="roofingType">Couverture</label>
                            <select id="roofingType">
                                <option value="tiles">Tuiles béton</option>
                                <option value="tiles-terre">Tuiles terre cuite</option>
                                <option value="slate">Ardoise</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- SECTION 10 : PARAMÈTRES -->
                <div class="form-section" data-section="10">
                    <h2>⚙️ Paramètres & Options</h2>
                    
                    <div class="tabs">
                        <button type="button" class="tab active" data-tab="prices">💰 Prix</button>
                        <button type="button" class="tab" data-tab="losses">📊 Pertes</button>
                        <button type="button" class="tab" data-tab="margin">💸 Marge & TVA</button>
                    </div>

                    <div class="tab-content active" data-content="prices">
                        <div class="warning-box">
                            <p>💡 Modifiez les prix selon votre région</p>
                        </div>
                        <div class="price-editor">
                            <h4>Gros Œuvre</h4>
                            <div class="form-grid">
                                <div class="form-group">
                                    <label>Béton fondations (€/m³)</label>
                                    <input type="number" id="price_betonFondations" value="120">
                                </div>
                                <div class="form-group">
                                    <label>Parpaing 20 (€/u)</label>
                                    <input type="number" id="price_parpaing20" step="0.1" value="1.80">
                                </div>
                                <div class="form-group">
                                    <label>Ferraillage (€/kg)</label>
                                    <input type="number" id="price_ferraillage" step="0.1" value="1.20">
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="tab-content" data-content="losses" style="display: none;">
                        <div class="info-box">
                            <p>📦 Pertes matériaux (chutes, casse)</p>
                        </div>
                        <div class="price-editor">
                            <h4>Coefficients (%)</h4>
                            <div class="form-grid">
                                <div class="form-group">
                                    <label>Béton</label>
                                    <input type="number" id="loss_beton" value="5" min="0" max="20">
                                </div>
                                <div class="form-group">
                                    <label>Parpaings</label>
                                    <input type="number" id="loss_parpaings" value="3" min="0" max="20">
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="tab-content" data-content="margin" style="display: none;">
                        <div class="price-editor">
                            <h4>Marge & TVA</h4>
                            <div class="form-grid">
                                <div class="form-group">
                                    <label for="margin">Marge (%)</label>
                                    <input type="number" id="margin" value="15" min="0" max="100">
                                </div>
                                <div class="form-group">
                                    <label for="tva">TVA (%)</label>
                                    <select id="tva">
                                        <option value="0">0%</option>
                                        <option value="10" selected>10%</option>
                                        <option value="20">20%</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- SECTION 11 : DEVIS FINAL -->
                <div class="form-section" data-section="11">
                    <h2>💰 Devis Complet</h2>
                    <div id="resultsContainer">
                        <div class="info-box">
                            <p style="text-align: center">📊 Cliquez sur "Générer" pour voir les résultats</p>
                        </div>
                    </div>
                    <button type="button" class="btn-calculate" id="calculateButton">🧮 GÉNÉRER LE DEVIS</button>
                </div>

                <!-- BOUTONS NAVIGATION -->
                <div class="button-group">
                    <button type="button" class="btn-back" id="backButton">← Précédent</button>
                    <button type="button" class="btn-continue" id="continueButton">Suivant →</button>
                </div>
            </form>
        </div>
    </div>

    <!-- SCRIPTS : ORDRE IMPORTANT -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="app.js"></script>
</body>
</html>